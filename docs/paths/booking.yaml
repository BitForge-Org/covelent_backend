/bookings:
  post:
    summary: Create a new booking
    tags:
      - Bookings
    security:
      - bearerAuth: []
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            required:
              - serviceId
              - selectedPricingOption
              - scheduledDate
              - scheduledTime
              - paymentMethod
            properties:
              serviceId:
                type: string
              selectedPricingOption:
                type: string
                description: The ObjectId of the chosen pricing option
              scheduledDate:
                type: string
                format: date
              scheduledTime:
                type: string
                format: time
              specialInstructions:
                type: string
              location:
                $ref: './../schemas/location.yaml#/Location'
              paymentMethod:
                type: string
                enum: [cash, online]
    responses:
      '201':
        description: Booking created
        content:
          application/json:
            schema:
              type: object
              properties:
                success:
                  type: boolean
                data:
                  type: object
                  properties:
                    booking:
                      $ref: './../schemas/booking.yaml#/Booking'
                    order:
                      type: object
                      nullable: true
                message:
                  type: string

/booking/history:
  get:
    summary: Get booking history for logged-in user
    tags:
      - Bookings
    security:
      - bearerAuth: []
    parameters:
      - in: query
        name: status
        schema:
          type: string
        required: false
        description: Filter bookings by status
    responses:
      '200':
        description: List of bookings
        content:
          application/json:
            schema:
              type: object
              properties:
                success:
                  type: boolean
                data:
                  type: object
                  properties:
                    bookings:
                      type: array
                      items:
                        $ref: './../schemas/booking.yaml#/Booking'
                message:
                  type: string

/bookings/available:
  get:
    summary: Get available bookings for provider (approved applications)
    tags:
      - Bookings
    security:
      - bearerAuth: []
    responses:
      '200':
        description: List of available bookings
        content:
          application/json:
            schema:
              type: object
              properties:
                success:
                  type: boolean
                data:
                  type: object
                  properties:
                    bookings:
                      type: array
                      items:
                        $ref: './../schemas/booking.yaml#/Booking'
                message:
                  type: string
