openapi: 3.0.3
info:
  title: Service API
  version: 1.0.0
  description: API for service management and retrieval

security:
  - BearerAuth: []

servers:
  - url: http://localhost:80/api/v1
    description: Local development server
  - url: http://65.0.253.148:80/api/v1
    description: Production server

tags:
  - name: Auth
    description: Authentication management
  - name: Categories
    description: Category management
  - name: Service
    description: Service management and retrieval
  - name: User
    description: User management and retrieval
  - name: ProviderApplication
    description: Provider application management
  - name: LocationImport
    description: Location import management
  - name: ServiceArea
    description: Service area management

  - name: Location
    description: Location and geocoding endpoints

paths:
  /categories:
    $ref: './paths/categories.yaml#/~1categories'
  /users/current-user:
    $ref: './paths/users/current-user.yaml#/~1current-user'
  /users/update-account:
    $ref: './paths/users/update-account.yaml#/~1update-account'
  /users/avatar:
    $ref: './paths/users/avatar.yaml#/~1avatar'
  /applications/complete-application:
    $ref: './paths/serviceArea.yaml#/paths/~1applications~1complete-application'
  /applications/complete-application/{id}:
    $ref: './paths/serviceArea.yaml#/paths/~1applications~1complete-application~1{id}'
  /applications/complete-application/{id}/status:
    $ref: './paths/serviceArea.yaml#/paths/~1applications~1complete-application~1{id}~1status'
  /applications/complete-application/provider/{id}:
    $ref: './paths/serviceArea.yaml#/paths/~1applications~1complete-application~1provider~1{id}'
  /applications/add-service:
    $ref: './paths/serviceArea.yaml#/paths/~1applications~1add-service'
  /services:
    $ref: './paths/services.yaml#/paths/~1services'
  /services/featured-services:
    $ref: './paths/services.yaml#/paths/~1services~1featured-services'
  /services/{serviceId}:
    $ref: './paths/services.yaml#/paths/~1services~1{serviceId}'
  /services/{serviceId}/image:
    $ref: './paths/services.yaml#/paths/~1services~1{serviceId}~1image'
  /services/check-availability:
    $ref: './paths/services.yaml#/paths/~1services~1check-availability'
  /services/by-area/{areaId}:
    $ref: './paths/services.yaml#/paths/~1services~1by-area~1{areaId}'
  /services/{serviceId}/areas:
    $ref: './paths/services.yaml#/paths/~1services~1{serviceId}~1areas'
  /services/{serviceId}/city:
    $ref: './paths/services.yaml#/paths/~1services~1{serviceId}~1city'

  # (Removed duplicate /categories and related paths)

  /bookings:
    $ref: './paths/booking.yaml#/~1bookings'
  /bookings/available:
    $ref: './paths/booking.yaml#/~1bookings~1available'
  /bookings/history:
    $ref: './paths/booking.yaml#/~1booking~1history'
  /bookings/accepted:
    $ref: './paths/booking.yaml#/~1bookings~1accepted'
  /bookings/reject:
    $ref: './paths/booking.yaml#/~1bookings~1reject'

  /bookings/accept:
    $ref: './paths/booking.yaml#/~1bookings~1accept'

  /bookings/{bookingId}:
    $ref: './paths/booking.yaml#/~1bookings~1{bookingId}'

  /addresses:
    $ref: './paths/address.yaml#/~1addresses'
  /addresses/{id}:
    $ref: './paths/address.yaml#/~1addresses~1{id}'

  # Auth endpoints - Fixed references
  /auth/register:
    $ref: './paths/auth.yaml#/~1auth~1register'
  /auth/login:
    $ref: './paths/auth.yaml#/~1auth~1login'
  /auth/logout:
    $ref: './paths/auth.yaml#/~1auth~1logout'
  /auth/login/provider:
    $ref: './paths/auth.yaml#/~1auth~1login~1provider'
  /auth/refresh-token:
    $ref: './paths/auth.yaml#/~1auth~1refresh-token'
  /auth/change-password:
    $ref: './paths/auth.yaml#/~1auth~1change-password'
  /auth/forgot-password:
    $ref: './paths/auth.yaml#/~1auth~1forgot-password'
  /auth/reset-password:
    $ref: './paths/auth.yaml#/~1auth~1reset-password'
  /auth/verify-otp:
    $ref: './paths/auth.yaml#/~1auth~1verify-otp'
  /auth/register/provider:
    $ref: './paths/auth.yaml#/~1auth~1register~1provider'
  /auth/provider/upload-documents:
    $ref: './paths/auth.yaml#/~1auth~1provider~1upload-documents'

  # Webhook endpoints
  /webhook/razorpay:
    $ref: './paths/webhook.yaml#/~1webhook~1razorpay'
  /webhook/verify-payment:
    $ref: './paths/webhook.yaml#/~1webhook~1verify-payment'
  /webhook/payment-status/{bookingId}:
    $ref: './paths/webhook.yaml#/~1webhook~1payment-status~1{bookingId}'

  /location/get-pincode:
    $ref: './paths/location.yaml#/paths/~1location~1get-pincode'

  /location-import/cities:
    $ref: './paths/locationImport.yaml#/paths/~1location-import~1cities'
  /location-import/import:
    $ref: './paths/locationImport.yaml#/paths/~1location-import~1import'
  /location-import/cities/{cityId}:
    $ref: './paths/locationImport.yaml#/paths/~1location-import~1cities~1{cityId}'
  /location-import/areas:
    $ref: './paths/locationImport.yaml#/paths/~1location-import~1areas'
  /location-import/areas/{areaId}:
    $ref: './paths/locationImport.yaml#/paths/~1location-import~1areas~1{areaId}'
  /location-import/subareas:
    $ref: './paths/locationImport.yaml#/paths/~1location-import~1subareas'
  /location-import/subareas/{subAreaId}:
    $ref: './paths/locationImport.yaml#/paths/~1location-import~1subareas~1{subAreaId}'
  /location-import/pincodes:
    $ref: './paths/locationImport.yaml#/paths/~1location-import~1pincodes'
  /location-import/pincodes/{pincodeId}:
    $ref: './paths/locationImport.yaml#/paths/~1location-import~1pincodes~1{pincodeId}'
  /location-import/import-status/{importLogId}:
    $ref: './paths/locationImport.yaml#/paths/~1location-import~1import-status~1{importLogId}'
  /location-import/areas/{areaId}/subareas:
    $ref: './paths/locationImport.yaml#/paths/~1location-import~1areas~1{areaId}~1subareas'
  /location-import/cities/{cityId}/areas:
    $ref: './paths/locationImport.yaml#/paths/~1location-import~1cities~1{cityId}~1areas'
  /location-import/areas/{areaId}/serviceability:
    $ref: './paths/locationImport.yaml#/paths/~1location-import~1areas~1{areaId}~1serviceability'
  /location-import/subareas/{subAreaId}/serviceability:
    $ref: './paths/locationImport.yaml#/paths/~1location-import~1subareas~1{subAreaId}~1serviceability'
  /location-import/areas/bulk-serviceability:
    $ref: './paths/locationImport.yaml#/paths/~1location-import~1areas~1bulk-serviceability'
  /location-import/pincode/{pincode}:
    $ref: './paths/locationImport.yaml#/paths/~1location-import~1pincode~1{pincode}'
  /location-import/search:
    $ref: './paths/locationImport.yaml#/paths/~1location-import~1search'

components:
  securitySchemes:
    BearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
  schemas:
    User:
      $ref: './schemas/User.yaml#/User'
    Service:
      $ref: './schemas/Service.yaml#/Service'
    ServiceArea:
      $ref: './schemas/serviceArea.yaml#/ServiceArea'
    Booking:
      $ref: './schemas/booking.yaml#/Booking'
    Address:
      $ref: './schemas/address.yaml#/Address'

    City:
      $ref: './schemas/City.yaml#/City'
    Area:
      $ref: './schemas/Area.yaml#/Area'
    SubArea:
      $ref: './schemas/SubArea.yaml#/SubArea'
    Pincode:
      $ref: './schemas/Pincode.yaml#/Pincode'
